# benchmark results
![rps-plot](./benchmark.svg)

Table: scan speed depending on spawned goroutines
|goroutines|rows per second|duration|total rows
|-----------|-----|----|----|
|1|30696922.54|32.576555472s|1000000000
|2|61354110.69|16.298826415s|1000000000
|3|92335361.20|10.830087055s|1000000000
|4|122443086.88|8.167059697s|1000000000
|5|151650108.32|6.594126513s|1000000000
|6|175982524.67|5.682382395s|1000000000
|7|209445407.20|4.774513862s|1000000000
|8|243689874.35|4.103576329s|1000000000
|9|273322172.28|3.658685981s|1000000000
|10|295657298.62|3.382294314s|1000000000
|11|333296980.63|3.00032721s|1000000000
|12|332488298.47|3.007624643s|1000000000
|13|394626159.80|2.534043867s|1000000000
|14|411529753.72|2.429957958s|1000000000
|15|367128167.03|2.723844395s|1000000000
|16|488119123.43|2.048680234s|1000000000
|17|343240319.64|2.913410642s|1000000000
|18|380233165.65|2.629965217s|1000000000
|19|393112358.56|2.54380199s|1000000000
|20|379487635.01|2.635131972s|1000000000
|21|342249806.46|2.921842412s|1000000000
|22|648928449.34|1.541001941s|1000000000
|23|505140616.27|1.979646791s|1000000000
|24|365826289.33|2.733537827s|1000000000
|25|555490163.87|1.800211894s|1000000000
|26|405227868.07|2.467747356s|1000000000
|27|594218455.28|1.68288277s|1000000000
|28|392070643.34|2.550560765s|1000000000
|29|633226596.97|1.579213515s|1000000000
|30|320861747.58|3.116607098s|1000000000
|31|488953888.92|2.045182629s|1000000000
|32|665839054.02|1.501864443s|1000000000
|33|324696030.37|3.07980359s|1000000000
|34|500724257.83|1.997107159s|1000000000
|35|713105104.10|1.402317827s|1000000000
|36|275291667.06|3.632510968s|1000000000
|37|352856828.12|2.834010625s|1000000000
|38|493836140.75|2.024963176s|1000000000
|39|764188147.94|1.308578264s|1000000000
|40|248037931.66|4.031641424s|1000000000
|41|311031189.13|3.215111651s|1000000000
|42|412284177.76|2.425511465s|1000000000
|43|550828168.89|1.815448186s|1000000000
|44|831762858.31|1.202265754s|1000000000
|45|227797673.81|4.389860455s|1000000000
|46|266500822.21|3.752333639s|1000000000
|47|319065040.90|3.134157215s|1000000000
|48|400499386.53|2.496882726s|1000000000
|49|535520306.58|1.867342821s|1000000000
|50|363911599.37|2.747920104s|1000000000
|51|192978419.31|5.181926578s|1000000000
|52|214409080.94|4.663981561s|1000000000
|53|242413862.70|4.125176625s|1000000000
|54|278706767.90|3.588000419s|1000000000
|55|142612488.32|7.012008638s|1000000000
|56|65373159.90|15.29679767s|1000000000
|57|40700669.39|24.569620476s|1000000000
|58|37722528.47|26.509357688s|1000000000
|59|43513220.59|22.981521167s|1000000000
|60|29340729.42|34.082315604s|1000000000
|61|24928967.43|40.113975945s|1000000000
|62|24182352.88|41.352469093s|1000000000
|63|23769647.19|42.070460371s|1000000000
|64|23717806.22|42.162415472s|1000000000

## node specification

The benchmark has been run on 'ams1-c3.medium.x86-01', which has the following specification:

Table: memory specification
|Property|Value|
|-----------|-----|
|total_physical_bytes|68296212480|
|total_usable_bytes|67089072128|
|supported_page_sizes|[1.073741824e+09 2.097152e+06]|
Table: cpu specification
|Property|Value|
|-----------|-----|
|total_threads|48|
|processors|[map[capabilities:[fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt aes xsave avx f16c rdrand lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs skinit wdt tce topoext perfctr_core perfctr_nb bpext perfctr_llc mwaitx cpb cat_l3 cdp_l3 hw_pstate sme ssbd mba sev ibrs ibpb stibp vmmcall fsgsbase bmi1 avx2 smep bmi2 cqm rdt_a rdseed adx smap clflushopt clwb sha_ni xsaveopt xsavec xgetbv1 xsaves cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local clzero irperf xsaveerptr wbnoinvd arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold avic v_vmsave_vmload vgif umip rdpid overflow_recov succor smca] cores:[map[id:0 index:0 logical_processors:[0 24] total_threads:2] map[id:1 index:1 logical_processors:[1 25] total_threads:2] map[id:2 index:2 logical_processors:[2 26] total_threads:2] map[id:4 index:3 logical_processors:[3 27] total_threads:2] map[id:5 index:4 logical_processors:[4 28] total_threads:2] map[id:6 index:5 logical_processors:[5 29] total_threads:2] map[id:8 index:6 logical_processors:[6 30] total_threads:2] map[id:9 index:7 logical_processors:[7 31] total_threads:2] map[id:10 index:8 logical_processors:[8 32] total_threads:2] map[id:12 index:9 logical_processors:[9 33] total_threads:2] map[id:13 index:10 logical_processors:[10 34] total_threads:2] map[id:14 index:11 logical_processors:[11 35] total_threads:2] map[id:16 index:12 logical_processors:[12 36] total_threads:2] map[id:17 index:13 logical_processors:[13 37] total_threads:2] map[id:18 index:14 logical_processors:[14 38] total_threads:2] map[id:20 index:15 logical_processors:[15 39] total_threads:2] map[id:21 index:16 logical_processors:[16 40] total_threads:2] map[id:22 index:17 logical_processors:[17 41] total_threads:2] map[id:24 index:18 logical_processors:[18 42] total_threads:2] map[id:25 index:19 logical_processors:[19 43] total_threads:2] map[id:26 index:20 logical_processors:[20 44] total_threads:2] map[id:28 index:21 logical_processors:[21 45] total_threads:2] map[id:29 index:22 logical_processors:[22 46] total_threads:2] map[id:30 index:23 logical_processors:[23 47] total_threads:2]] id:0 model:AMD EPYC 7402P 24-Core Processor total_cores:24 total_threads:48 vendor:AuthenticAMD]]|
|total_cores|24|
Table: storage specification
|Property|Value|
|-----------|-----|
|vendor|ATA|
|serial_number|5002538e19b49777|
|wwn|0x5002538e19b49777|
|partitions|[]|
|drive_type|ssd|
|size_bytes|480103981056|
|physical_block_size_bytes|4096|
|removable|false|
|storage_controller|scsi|
|bus_path|pci-0000:01:00.0-sas-phy4-lun-0|
|model|MZ7LH480HAHQ0D3|
|name|sda|

|Property|Value|
|-----------|-----|
|vendor|ATA|
|model|MZ7LH480HAHQ0D3|
|name|sdb|
|size_bytes|480103981056|
|physical_block_size_bytes|4096|
|drive_type|ssd|
|removable|false|
|bus_path|pci-0000:01:00.0-sas-phy0-lun-0|
|serial_number|5002538e19b4979b|
|storage_controller|scsi|
|wwn|0x5002538e19b4979b|
|partitions|[]|

|Property|Value|
|-----------|-----|
|name|sdc|
|size_bytes|240057409536|
|physical_block_size_bytes|4096|
|drive_type|ssd|
|storage_controller|scsi|
|bus_path|pci-0000:c3:00.0-ata-1|
|model|MTFDDAV240TCB|
|partitions|[]|
|removable|false|
|vendor|ATA|
|serial_number|194825356C2A|
|wwn|0x500a075125356c2a|

|Property|Value|
|-----------|-----|
|bus_path|pci-0000:c3:00.0-ata-2|
|vendor|ATA|
|wwn|0x500a075125357136|
|size_bytes|240057409536|
|physical_block_size_bytes|4096|
|drive_type|ssd|
|model|MTFDDAV240TCB|
|serial_number|194825357136|
|partitions|[map[label: mount_point: name:sdd1 read_only:true size_bytes:2.097152e+06 type:] map[label: mount_point: name:sdd2 read_only:true size_bytes:2.0447232e+09 type:] map[label: mount_point:/ name:sdd3 read_only:false size_bytes:2.38009523712e+11 type:ext4]]|
|name|sdd|
|removable|false|
|storage_controller|scsi|

|Property|Value|
|-----------|-----|
|removable|true|
|vendor|Linux|
|serial_number|20180726-0|
|physical_block_size_bytes|512|
|drive_type|hdd|
|storage_controller|scsi|
|bus_path|pci-0000:48:00.3-usb-0:1.1.2:1.0-scsi-0:0:0:0|
|model|MAS022|
|wwn|unknown|
|partitions|[]|
|name|sde|
|size_bytes|0|

## histogram data of test set

The task was to calculate a histogram from the test set. In total, 1000000000 rows have been scanned.
|Temperature|Count|
|-----------|-----|
|0|3921916|
|1|3921617|
|2|3918919|
|3|3921911|
|4|3922040|
|5|3919686|
|6|3921700|
|7|3924892|
|8|3924598|
|9|3919605|
|10|3923605|
|11|3921916|
|12|3923619|
|13|3921132|
|14|3922901|
|15|3920332|
|16|3918880|
|17|3921500|
|18|3918621|
|19|3922566|
|20|3922029|
|21|3923813|
|22|3920018|
|23|3918197|
|24|3926740|
|25|3920777|
|26|3921208|
|27|3922257|
|28|3920019|
|29|3921472|
|30|3921196|
|31|3920469|
|32|3918013|
|33|3920631|
|34|3924732|
|35|3921994|
|36|3922816|
|37|3920412|
|38|3924500|
|39|3921858|
|40|3921210|
|41|3916716|
|42|3919869|
|43|3921877|
|44|3920457|
|45|3919895|
|46|3918674|
|47|3920129|
|48|3923621|
|49|3923586|
|50|3921013|
|51|3924199|
|52|3922239|
|53|3925536|
|54|3918199|
|55|3920048|
|56|3922301|
|57|3922666|
|58|3918639|
|59|3925105|
|60|3920333|
|61|3922255|
|62|3923047|
|63|3924147|
|64|3921428|
|65|3921873|
|66|3922446|
|67|3920141|
|68|3925338|
|69|3922974|
|70|3922983|
|71|3921543|
|72|3919411|
|73|3921178|
|74|3923284|
|75|3923071|
|76|3921104|
|77|3921960|
|78|3923634|
|79|3920621|
|80|3925134|
|81|3921749|
|82|3917923|
|83|3922565|
|84|3921027|
|85|3921320|
|86|3921408|
|87|3923175|
|88|3922694|
|89|3922130|
|90|3921597|
|91|3920720|
|92|3922047|
|93|3918717|
|94|3918834|
|95|3920276|
|96|3924922|
|97|3921190|
|98|3919438|
|99|3922734|
|100|3921502|
|101|3920421|
|102|3922244|
|103|3919996|
|104|3918738|
|105|3918710|
|106|3918534|
|107|3923321|
|108|3923304|
|109|3922762|
|110|3923134|
|111|3924424|
|112|3919332|
|113|3921057|
|114|3919749|
|115|3921112|
|116|3920175|
|117|3924326|
|118|3920251|
|119|3916903|
|120|3923074|
|121|3921244|
|122|3921170|
|123|3920812|
|124|3922845|
|125|3921364|
|126|3920034|
|127|3923915|
|-128|3921709|
|-127|3919116|
|-126|3920484|
|-125|3921941|
|-124|3921978|
|-123|3922349|
|-122|3919545|
|-121|3918678|
|-120|3921756|
|-119|3920113|
|-118|3921660|
|-117|3921395|
|-116|3920469|
|-115|3922294|
|-114|3922493|
|-113|3918576|
|-112|3925564|
|-111|3919981|
|-110|3922463|
|-109|3920226|
|-108|3922365|
|-107|3920597|
|-106|3922804|
|-105|3920201|
|-104|3924483|
|-103|3919630|
|-102|3923429|
|-101|3922302|
|-100|3920769|
|-99|3926547|
|-98|3924324|
|-97|3921031|
|-96|3921341|
|-95|3923242|
|-94|3923691|
|-93|3921067|
|-92|3921921|
|-91|3919849|
|-90|3921346|
|-89|3916790|
|-88|3921924|
|-87|3920274|
|-86|3919467|
|-85|3921204|
|-84|3920254|
|-83|3922473|
|-82|3918583|
|-81|3919470|
|-80|3921516|
|-79|3919096|
|-78|3922228|
|-77|3922219|
|-76|3923021|
|-75|3924648|
|-74|3920441|
|-73|3920029|
|-72|3920067|
|-71|3919730|
|-70|3924485|
|-69|3921680|
|-68|3920093|
|-67|3921203|
|-66|3920266|
|-65|3922799|
|-64|3923439|
|-63|3918239|
|-62|3920230|
|-61|3921020|
|-60|3921150|
|-59|3922307|
|-58|3918227|
|-57|3919706|
|-56|3917559|
|-55|3925105|
|-54|3921975|
|-53|3925263|
|-52|3921183|
|-51|3923901|
|-50|3922520|
|-49|3920877|
|-48|3919437|
|-47|3919548|
|-46|3921687|
|-45|3922248|
|-44|3922331|
|-43|3921121|
|-42|3925906|
|-41|3921925|
|-40|3921148|
|-39|3918702|
|-38|3920906|
|-37|3924122|
|-36|3924744|
|-35|3922815|
|-34|3922091|
|-33|3920078|
|-32|3919599|
|-31|3923601|
|-30|3923035|
|-29|3926751|
|-28|3924875|
|-27|3921631|
|-26|3918379|
|-25|3920911|
|-24|3922682|
|-23|3919398|
|-22|3922643|
|-21|3919926|
|-20|3920611|
|-19|3921508|
|-18|3922560|
|-17|3919839|
|-16|3920333|
|-15|3918346|
|-14|3922629|
|-13|3919099|
|-12|3924003|
|-11|3923784|
|-10|3919995|
|-9|3922064|
|-8|3922320|
|-7|3925474|
|-6|3925501|
|-5|3925626|
|-4|3921426|
|-3|3922038|
|-2|3922304|
|-1|0|
